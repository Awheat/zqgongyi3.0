define("authentication",["jquery","jquery.validate","distpicker","utils/utils.form.js"],function(require,exports,module){var $=require("jquery");require("jquery.validate"),require("distpicker");var e=require("utils/utils.form.js");$(function(){var t={init:function(){this.formAuthentication=$("#formAuthentication"),this.formSphere=$(".form-sphere"),this.formHiddenSphere=$('input[name="sphere'),this.formRadio=$('input[name="authways"]'),$(".distpicker").distpicker(),this.formAuthentication.validate(this.validatorConfig);var t=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/g;e.addValidatorRules("isWebSite",t,"请输入合法网址"),e.addValidatorRules("ckLength",/^[_a-zA-Z0-9\u4E00-\u9FA5]{0,500}$/,"请输1-500字符的内容"),this.bindEvent()},bindEvent:function(){var e=this;this.formSphere.on("click","i[data-id]",function(){$("#sphere-error").text(""),$(this).toggleClass("chk"),e.reloadSphereValue()}),this.formRadio.on("click",function(){var e=$(this),t=e.attr("data-type");$(".auth-ways"+t).show().siblings("div").hide()}),$(".auth-status").on("click","button.btn",function(){var e=$(this);e.parents("div.block").addClass("hidden").siblings("div").removeClass("hidden")})},validatorConfig:{ignore:"",onkeyup:!1,submitHandler:function(e){},success:function(e){},rules:{username:{required:!0},county:{required:!0},sphere:{required:!0},officsite:{isWebSite:!0},introduct:{ckLength:!0},realname:{required:!0},cardnumber:{required:!0},email:{email:!0}},messages:{username:{required:"名称不能为空"},county:{required:"请选择常住地址"},sphere:{required:"请选择关注领域"},realname:{required:"请输入真实姓名"},cardnumber:{required:"请输入证件号码"},email:{email:"请输入合法的邮箱"}}},reloadSphereValue:function(){var e=[],t=this.formSphere.find("i.chk"),i=$("#sphere-error");0==t.size()?(i.remove(),$(".form-sphere").append('<label id="sphere-error" class="error" for="msgcode">请选择关注领域</label>')):i.text(""),t.each(function(){e.push($(this).text())}),this.formHiddenSphere.val(e)}};t.init()})}),define("utils/utils.form",["jquery"],function(require,exports,module){var $=require("jquery"),e={timer:null,toString:Object.prototype.toString,isArray:function(e){return"[object Array]"===this.toString.call(e)},isString:function(e){return"[object String]"===this.toString.call(e)},isObject:function(e){return"[object Object]"===this.toString.call(e)},isRegEx:function(e){return"[object RegExp]"===this.toString.call(e)},regs:{username:/^[_a-zA-Z0-9\u4E00-\u9FA5]{2,10}$/,mobile:/^1\d{10}$/,email:/^[a-zA-Z0-9_\-]{1,}@[a-zA-Z0-9_\-]{1,}\.[a-zA-Z0-9_\-.]{1,}$/},countDown:function(e,t){var i=this;e.hasClass("disable")||(e.addClass("disable").attr("disabled","disabled"),this.timer=setInterval(function(){e.text(t+" 秒"),t==-1&&(e.text("获取短信验证码").removeClass("disable").attr("disabled",!1),clearInterval(i.timer)),t--},1e3))},addValidatorRules:function(e,t,i){var r=this,a=!0;$.validator.addMethod(e,function(e,i){if(r.isArray(t)){for(var n=0;n<t.length&&!(a=t[n].test(e));n++);return a}return this.optional(i)||t.test(e)},i)}};module.exports=e});