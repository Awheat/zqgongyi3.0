define("utils/utils.modal.box",["jquery"],function(require,exports,module){function n(o,t){this.options=$.extend({},n.DEFAULTS,t),this.elem=$(o),this.body=$("body"),this.init()}var $=require("jquery");$.fn.extend({ModalBox:function(o){return this.each(function(){new n(this,o)})}}),n.DEFAULTS={width:500,height:300,title:"标题",content:"",onOpen:function(){},onClose:function(){},onOk:function(){},onCancel:function(){}},n.prototype={init:function(){this.render(),this.events()},render:function(){var n=this,o=$('<div id="mask"></div>'),t=[],i=null;t.push('<div class="modal-container" id="modal-'+this.getRandom()+'">'),t.push('<div class="modal-header">'),t.push('<span class="modal-title">'+this.options.title+"</span>"),t.push('<i class="modal-icon">x</i>'),t.push("</div>"),t.push('<div class="modal-content">'+this.options.content+"</div>"),t.push('<div class="modal-footer">'),t.push('<span class="btn-cancenl">取消</span>'),t.push('<span class="btn-ok">确认</span>'),t.push("</div>"),t.push("</div>"),i=t.join(""),this.boxShow(o,i,function(){$(".modal-container").css({width:n.options.width,height:n.options.height,marginTop:-(n.options.height/2),marginLeft:-(n.options.width/2)})})},events:function(){var n=this;this.modalHeader=$(".modal-header"),this.modalContent=$(".modal-content"),this.modalFooter=$(".modal-footer"),this.modalHeader.on("click",".modal-icon",function(){n.runCallBack(n.options.onClose)}),this.modalFooter.on("click",".btn-cancenl",function(){n.runCallBack(n.options.onCancel)}),this.modalFooter.on("click",".btn-ok",function(){n.runCallBack(n.options.onOk)})},boxShow:function(n,o,t){"function"==typeof this.options.onOpen&&this.options.onOpen(this.elem),this.body.append(n,o),t()},boxClose:function(){this.body.find(".modal-container,#mask").remove()},runCallBack:function(n){"function"==typeof n&&n(),this.boxClose()},getRandom:function(){return Math.random().toString().substr(2)}}});