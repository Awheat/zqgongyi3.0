KindEditor.plugin("template",function(e){function a(a){return l+a+"?ver="+encodeURIComponent(e.DEBUG?e.TIME:e.VERSION)}var i=this,t="template",l=(i.lang(t+"."),i.pluginsPath+t+"/html/");i.clickToolbar(t,function(){var l=i.lang(t+"."),n=['<div style="padding:10px 20px;">','<div class="ke-header">','<div class="ke-left">',l.selectTemplate+" <select>"];e.each(l.fileList,function(e,a){n.push('<option value="'+e+'">'+a+"</option>")}),html=[n.join(""),"</select></div>",'<div class="ke-right">','<input type="checkbox" id="keReplaceFlag" name="replaceFlag" value="1" /> <label for="keReplaceFlag">'+l.replaceContent+"</label>","</div>",'<div class="ke-clearfix"></div>',"</div>",'<iframe class="ke-textarea" frameborder="0" style="width:458px;height:260px;background-color:#FFF;"></iframe>',"</div>"].join("");var c=i.createDialog({name:t,width:500,title:i.lang(t),body:html,yesBtn:{name:i.lang("yes"),click:function(a){var t=e.iframeDoc(r);i[o[0].checked?"html":"insertHtml"](t.body.innerHTML).hideDialog().focus()}}}),d=e("select",c.div),o=e('[name="replaceFlag"]',c.div),r=e("iframe",c.div);o[0].checked=!0,r.attr("dist",a(d.val())),d.change(function(){r.attr("dist",a(this.value))})})});